<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>mmGrid</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../src/mmGrid.css">
    <link rel="stylesheet" href="../src/mmPaginator.css">
    <!--[if lt IE 9]>
        <script src="js/vendor/html5shiv.js"></script>
    <![endif]-->
    <script src="js/vendor/modernizr-2.6.2.min.js"></script>
    <style>
        body{
            font-family: 'Helvetica Neue', helvetica, "Hiragino Sans GB", "Microsoft YaHei", "WenQuanYi Micro Hei", sans-serif;
            color: #333;
        }
        .mmGrid,
        .mmPaginator{
            font-size: 12px;
        }
        .btnPrice {
            display: block;
            width: 16px;
            height: 16px;
            margin: 0px auto;
            background: url(img/botton_g1.gif) no-repeat;
        }

        .btnPrice:hover {
            background: url(img/botton_g2.gif) no-repeat;
        }


    </style>

    <script src="js/vendor/modernizr-2.6.2.min.js"></script>
</head>
<body>
<a href="https://github.com/miemiedev/mmGrid"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>
<main class="container">
    <h1>mmGrid</h1>
    <p style="border-top: 1px solid #ddd;padding-top: 20px;">
        这是一个简单、易用、快速、跨浏览器兼容的javascript表格控件，应用于基于web的富客户端程序中。
    </p>
    <ul class="nav nav-tabs" id="nav">
        <li class="active"><a href="#example">示例</a></li>
        <li><a href="#doc">文档</a></li>
    </ul>

    <div class="tab-content">
        <div class="tab-pane active" id="example">
            <h3>1 基本示例</h3>
            <div class="row-fluid" style="border-bottom: 1px solid #ddd;padding-bottom: 15px;">
                <div class="span6">
                    <h4>1.1 客户端数据示例</h4>
                    <table id="table1"></table>
                    <div class="well well-small" style="margin-top: 20px;">
                        以客户端数据为数据源。参数<code>items</code>，类型可以是对象或数组。如果数据源为对象，则使用<code>root</code>选项标记对象内的数组字段为数据源。
                    </div>
                </div>
                <div class="span6">
                    <h4>1.2 Ajax数据示例</h4>
                    <table id="table2"></table>
                    <div class="well well-small" style="margin-top: 20px;">
                        Ajax数据为数据源。参数<code>url</code>为请求地址，返回数据为json格式，可以是对象或数组。如果返回数据为对象，则使用<code>root</code>选项标记对象内的数组字段为数据源。
                    </div>
                </div>
            </div>
            <h3>2 排序示例</h3>
            <div style="text-indent: 2em;">
                排序参数为<code>sortName</code>和<code>sortStatus</code>。
                如果初始化时设置排序列，则直接显示排序后数据。
                排序方式分为客户端排序与Ajax服务器端排序，设置参数为<code>remoteSort</code>。
                排序方式与数据源关系不大，但如果数据源为本地数据，设置<code>remoteSort</code>为<code>true</code>无效。
                如果排序字段为数字类型需要将列选项添加<code>type:'number'</code>属性。
            </div>
            <div class="row-fluid"  style="margin-top: 20px;border-bottom: 1px solid #ddd;padding-bottom: 15px;">
                <div class="span6">
                    <h4>2.1 客户端排序示例</h4>
                    <table id="table3"></table>
                </div>
                <div class="span6">
                    <h4>2.2 Ajax排序示例</h4>
                    <table id="table4"></table>
                    <em> * 由于服务器端无处理程序，此示例可查看xhr地址sort参数。</em>
                </div>
            </div>
            <h3>3 列控制</h3>
            <div class="row-fluid"  style="margin-top: 20px;border-bottom: 1px solid #ddd;padding-bottom: 15px;">
                <div class="span4">
                    <h4>3.1 锁定列宽</h4>
                    <table id="table5"></table>
                    <div class="well well-small" style="margin-top: 20px;">
                        锁定列宽选项为<code>lockWidth:true</code>。列宽被锁定后则不可调整，当表选项<code>fitCols</code>设为<code>true</code>列的宽度也不参与计算。
                    </div>
                </div>
                <div class="span4">
                    <h4>3.2 隐藏列</h4>
                    <table id="table6"></table>
                    <div class="well well-small" style="margin-top: 20px;">
                        隐藏列选项为<code>hidden: true</code>。当光标移至标题时<strong>标题最右侧</strong>会显示<strong>向下按钮</strong>，单击此按钮则可打开选项板来调整隐藏和显示的列，调整完毕后单击选项板<strong>右下方</strong>的<strong>向上按钮</strong>来关闭选项板。
                    </div>
                </div>
                <div class="span4">
                    <h4>3.2 锁定列显示状态</h4>
                    <table id="table7"></table>
                    <div class="well well-small" style="margin-top: 20px;">
                        锁定列显示状态选项为<code>lockDisplay: true</code>。锁定列显示状态后，在选项板中列选项会被值为灰色，此列则不可调整显示状态。
                    </div>
                </div>
            </div>
            <h3>4 nowrap示例</h3>
            <div style="text-indent: 2em;">
                表选项<code>nowrap</code>设置单元格内容超出单元格长度时是否折行显示。
            </div>
            <div class="row-fluid"  style="margin-top: 20px;border-bottom: 1px solid #ddd;padding-bottom: 15px;">
                <div class="span6">
                    <h4>4.1 nowrap:true</h4>
                    <table id="table8"></table>
                </div>
                <div class="span6">
                    <h4>4.2 nowrap:false</h4>
                    <table id="table9"></table>
                </div>
            </div>

            <h3>5 fitColWidth示例</h3>
            <div style="text-indent: 2em;">
                当表选项<code>fitColWidth</code>设置为<code>true</code>时，表格在第一次数据加载时计算列宽，将其充满整个表格。锁定列宽的列不参与计算。如果所有显示的列宽总和大于表格宽度这个参数将不起作用。
            </div>
            <div class="row-fluid"  style="margin-top: 20px;border-bottom: 1px solid #ddd;padding-bottom: 15px;">
                <div class="span6">
                    <h4>5.1 fitColWidth:true</h4>
                    <table id="table10"></table>
                </div>
                <div class="span6">
                    <h4>5.2 fitColWidth:false</h4>
                    <table id="table11"></table>
                </div>
            </div>

            <h3>6 multiSelect示例</h3>
            <div style="text-indent: 2em;">
                表选项<code>multiSelect</code>设置表格是否可多选。可通过表操作<code>$('#table').mmGrid('selected')</code>获取选择的行对象。
                当光标单击单元格时触发<code>onSelected</code>事件，该事件可在表选项设置。当该事件返回<code>false</code>取消执行选中或取消选中的操作。
                下例可单击行情图标列查看执行结果。
            </div>
            <div class="row-fluid"  style="margin-top: 20px;border-bottom: 1px solid #ddd;padding-bottom: 15px;">
                <div class="span6">
                    <h4>6.1 multiSelect:true</h4>
                    <table id="table14"></table>
                </div>
                <div class="span6">
                    <h4>6.2 multiSelect:false</h4>
                    <table id="table15"></table>
                </div>
            </div>
            <h3>7 checkCol示例</h3>
            <div style="text-indent: 2em;">
                表选项<code>checkCol</code>可以在表格前插入checkbox列。<code>checkCol</code>选项可以和<code>multiSelect</code>搭配使用，可以更形象的表现选择列。
            </div>
            <div class="row-fluid"  style="margin-top: 20px;border-bottom: 1px solid #ddd;padding-bottom: 15px;">
                <div class="span6">
                    <h4>7.1 checkCol:true,multiSelect:true</h4>
                    <table id="table16"></table>
                </div>
                <div class="span6">
                    <h4>7.2 checkCol:true,multiSelect:false</h4>
                    <table id="table17"></table>
                </div>
            </div>

            <h3>8 分页示例</h3>
            <div style="text-indent: 2em;">
                这里的分页示例借助了分页器，开发者可以根据自己的需求选择使用其他分页器。
            </div>
            <div class="row-fluid"  style="margin-top: 20px;border-bottom: 1px solid #ddd;padding-bottom: 15px;">
                <div class="span12">
                    <h4>8.1 默认样式</h4>
                    <table id="table18"></table>
                    <div style="text-align:right;">
                        <div id="paginator18"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="tab-pane" id="doc">
        <h3>1.表选项</h3>
        <table class="table table-bordered">
            <tr>
                <th>名称</th>
                <th>可选值</th>
                <th>描述</th>
            </tr>
            <tr>
                <td>width</td>
                <td><em>'auto'</em>, 500, '500px'</td>
                <td>表格宽度。参数为'auto'和以'%'结尾,表格可在调整窗口尺寸时根据父元素调整尺寸。</td>
            </tr>
            <tr>
                <td>height</td>
                <td><em>'280px'</em>, 500, '500px'</td>
                <td>表格高度。如果以'%'结尾,表格可在调整窗口尺寸时根据父元素调整尺寸。</td>
            </tr>
            <tr>
                <td>url</td>
                <td><em>false</em>, string</td>
                <td>ajax请求数据的地址。</td>
            </tr>
            <tr>
                <td>params</td>
                <td><em>{}</em>, object, function(){ return {}; }</td>
                <td>ajax请求的参数。可以是普通对象或函数。
                    函数返回一个参数对象，每次调用ajax时调用。
                </td>
            </tr>
            <tr>
                <td>method</td>
                <td><em>‘post’</em>, 'get'</td>
                <td>ajax提交方式。</td>
            </tr>
            <tr>
                <td>items</td>
                <td><em>[]</em>, Array</td>
                <td>数据使用本地对象数组。</td>
            </tr>
            <tr>
                <td>root</td>
                <td><em>''</em>, string</td>
                <td>指定json对象的数组字段为数据。</td>
            </tr>

            <tr>
                <td>nowrap</td>
                <td><em>false</em>, true</td>
                <td>表格显示的数据超出列宽时是否换行。</td>
            </tr>
            <tr>
                <td>multiSelect</td>
                <td><em>false</em>, true</td>
                <td>数据使用本地对象数组。</td>
            </tr>
            <tr>
                <td>fitColWidth</td>
                <td><em>false</em>, true</td>
                <td>true:表格第一次加载数据时列伸展，自动充满表格。</td>
            </tr>
            <tr>
                <td>checkCol</td>
                <td><em>false</em>, true</td>
                <td>表格第一列显示为checkbox。</td>
            </tr>
            <tr>
                <td>loadingText</td>
                <td><em>‘正在载入...’</em>, string</td>
                <td>数据载入时的提示文字。</td>
            </tr>
            <tr>
                <td>noDataText</td>
                <td><em>‘没有数据’</em>, string</td>
                <td>没有数据时的提示文字。</td>
            </tr>
            <tr>
                <td>cols</td>
                <td><em>[]</em>, Array</td>
                <td>数据模型。</td>
            </tr>
            <tr>
                <td>sortName</td>
                <td><em>''</em>, string</td>
                <td>排序的字段名。</td>
            </tr>
            <tr>
                <td>sortStatus</td>
                <td><em>'asc'</em>, string</td>
                <td>排序方向。</td>
            </tr>
            <tr>
                <td>remoteSort</td>
                <td><em>false</em>, true</td>
                <td>是否使用服务器端排序。当值为true时，sortName和sortStatus会作为参数放入ajax请求中。</td>
            </tr>
            <tr>
                <td>autoLoad</td>
                <td><em>true</em>, false</td>
                <td>是否表格准备好时加载数据。</td>
            </tr>
            <tr>
                <td>onSuccess</td>
                <td><em>function(data){}</em>, function</td>
                <td>数据加载成功后执行。</td>
            </tr>
            <tr>
                <td>onError</td>
                <td><em>function(data){}</em>, function</td>
                <td>数据加载失败后执行。</td>
            </tr>
            <tr>
                <td>onSelected</td>
                <td><em>function(item, rowIndex, colIndex){}</em>, function</td>
                <td>
                    表格中的数据被选择时执行。item：当前数据行对应的对象；rowIndex：行索引；colIndex：列索引。
                    如果该函数返回false则不会触发选中和取消选中的操作。
                </td>
            </tr>
        </table>
        <h3>2.列选项</h3>
        <table class="table table-bordered">
            <tr>
                <th>名称</th>
                <th>可选值</th>
                <th>描述</th>
            </tr>
            <tr>
                <td>title</td>
                <td>string</td>
                <td>标题文字。</td>
            </tr>
            <tr>
                <td>width</td>
                <td>int</td>
                <td>标题宽度像素值。</td>
            </tr>
            <tr>
                <td>name</td>
                <td>string</td>
                <td>字段名。</td>
            </tr>
            <tr>
                <td>type</td>
                <td>'int','float'</td>
                <td>字段类型。在本地排序时用于转换文字。</td>
            </tr>
            <tr>
                <td>align</td>
                <td><em>'left'</em>, 'center', 'right'</td>
                <td>文字位置。</td>
            </tr>
            <tr>
                <td>hidden</td>
                <td><em>false</em>, true</td>
                <td>是否隐藏列。</td>
            </tr>
            <tr>
                <td>lockDipaly</td>
                <td><em>false</em>, true</td>
                <td>是否锁定列的显示状态。</td>
            </tr>
            <tr>
                <td>lockWidth</td>
                <td><em>false</em>, true</td>
                <td>是否锁定列宽。被锁定的列不参与fitCols选项的计算。</td>
            </tr>
            <tr>
                <td>sortable</td>
                <td><em>false</em>, true</td>
                <td>是否可排序。</td>
            </tr>
            <tr>
                <td>renderer</td>
                <td>function(val,item,items,rowIndex){ return val;}</td>
                <td>显示规则。参数: val 值, item 对象, items 对象数组, rowIndex 行索引;
                    返回值: 可以是纯文本或html。
                </td>
            </tr>
        </table>
        <h3>3.表操作</h3>
        <table class="table table-bordered">
            <tr>
                <th>名称</th>
                <th>参数</th>
                <th>描述</th>
            </tr>
            <tr>
                <td>load</td>
                <td>{}, []</td>
                <td>如果配置过ajax选项，则这里是ajax参数，如果传入对象数组，则为加载本地数据。</td>
            </tr>
            <tr>
                <td>selected</td>
                <td>无参数</td>
                <td>返回选择行的对象数组。</td>
            </tr>
            <tr>
                <td>select</td>
                <td>int, function(item, index){ return true; }, 'all'</td>
                <td>选中参数条件的行。int: 选中索引行; function: 过滤函数, item参数为行数据, index参数为行索引; 'all': 选中所有行。</td>
            </tr>
            <tr>
                <td>deselect</td>
                <td>int, function(item, index){ return true; }, 'all'</td>
                <td>取消选中参数条件的行。int: 取消选择索引行; function: 过滤函数, item参数为行数据, index参数为行索引; 'all': 取消选中所有行。</td>
            </tr>
        </table>

        </div>
    </div>
    <footer style="text-align: center;padding-top: 15px;padding-bottom: 20px">
    </footer>
</main>

<script src="js/vendor/jquery-1.9.0.min.js"></script>
<script src="js/plugins.js"></script>
<script src="js/vendor/json2.js"></script>
<script src="../src/mmGrid.js"></script>
<script src="../src/mmPaginator.js"></script>
<script>
$(document).ready(function () {
    $('#nav a').click(function (e) {
        e.preventDefault();
        $('#nav li').removeClass('active');
        $(this).parent().addClass('active');
        $('.tab-pane').removeClass('active');

        var selector = $(this).prop('href')
        selector = selector && selector.replace(/.*(?=#[^\s]*$)/, '');
        console.log(selector);
        $(selector).addClass('active');
    })

    var items = [{AMPLITUDE:0.9309,PREVCLOSINGPRICE:7.52,TURNOVERDEALS:0,HIGHESTPRICE:7.56,TURNOVERVOL:36268940,TRADINGDAY:1345478400000,TOTALSHARE:18653471415,SECUCODE:"600000",EPS:0.9217,LOWESTPRICE:7.49,OPENINGPRICE:7.51,SECUABBR:"浦发银行",ALISTEDSHARE:14922777132,ID:3131258,WCOSTAVG:8.7968,NETCASHFLOWOPERPS:1.125,SECUNAME:"上海浦东发展银行股份有限公司",CLOSINGPRICE:7.51,DAYCHANGERATE:-0.133,TURNOVERVAL:272732527,BVPS:8.686,DAYCHANGE:-0.01,PE:5.134,TURNOVERRATE:0.243,ADJUSTCLOSINGPRICE:51.8586,PB:0.9409},{AMPLITUDE:2.0472,PREVCLOSINGPRICE:6.35,TURNOVERDEALS:0,HIGHESTPRICE:6.41,TURNOVERVOL:1278011,TRADINGDAY:1345478400000,TOTALSHARE:1150000000,SECUCODE:"600004",EPS:0.1567,LOWESTPRICE:6.28,OPENINGPRICE:6.34,SECUABBR:"白云机场",ALISTEDSHARE:1150000000,ID:3131387,WCOSTAVG:6.8846,NETCASHFLOWOPERPS:0.23,SECUNAME:"广州白云国际机场股份有限公司",CLOSINGPRICE:6.39,DAYCHANGERATE:0.6299,TURNOVERVAL:8115183,BVPS:6.13,DAYCHANGE:0.04,PE:10.5415,TURNOVERRATE:0.1111,ADJUSTCLOSINGPRICE:9.429,PB:1.0697},{AMPLITUDE:1.5504,PREVCLOSINGPRICE:2.58,TURNOVERDEALS:0,HIGHESTPRICE:2.61,TURNOVERVOL:10685141,TRADINGDAY:1345478400000,TOTALSHARE:10093779823,SECUCODE:"600005",EPS:0.0043,LOWESTPRICE:2.57,OPENINGPRICE:2.59,SECUABBR:"武钢股份",ALISTEDSHARE:10093779823,ID:3131671,WCOSTAVG:3.0629,NETCASHFLOWOPERPS:0.09,SECUNAME:"武汉钢铁股份有限公司",CLOSINGPRICE:2.6,DAYCHANGERATE:0.7752,TURNOVERVAL:27677196,BVPS:3.562,DAYCHANGE:0.02,PE:24.2193,TURNOVERRATE:0.1059,ADJUSTCLOSINGPRICE:13.4817,PB:0.7308},{AMPLITUDE:2.069,PREVCLOSINGPRICE:2.9,TURNOVERDEALS:0,HIGHESTPRICE:2.95,TURNOVERVOL:2511165,TRADINGDAY:1345478400000,TOTALSHARE:2000000000,SECUCODE:"600006",EPS:0.0266,LOWESTPRICE:2.89,OPENINGPRICE:2.9,SECUABBR:"东风汽车",ALISTEDSHARE:2000000000,ID:3131903,WCOSTAVG:3.5362,NETCASHFLOWOPERPS:-0.4041,SECUNAME:"东风汽车股份有限公司",CLOSINGPRICE:2.9,DAYCHANGERATE:0,TURNOVERVAL:7316381,BVPS:3.0533,DAYCHANGE:0,PE:12.4963,TURNOVERRATE:0.1256,ADJUSTCLOSINGPRICE:10.0741,PB:0.9581},{AMPLITUDE:1.9704,PREVCLOSINGPRICE:10.15,TURNOVERDEALS:0,HIGHESTPRICE:10.35,TURNOVERVOL:155609,TRADINGDAY:1345478400000,TOTALSHARE:1007282534,SECUCODE:"600007",EPS:0.0887,LOWESTPRICE:10.15,OPENINGPRICE:10.15,SECUABBR:"中国国贸",ALISTEDSHARE:1007282534,ID:3132032,WCOSTAVG:9.8783,NETCASHFLOWOPERPS:0.22,SECUNAME:"中国国际贸易中心股份有限公司",CLOSINGPRICE:10.26,DAYCHANGERATE:1.0837,TURNOVERVAL:1599848,BVPS:4.5,DAYCHANGE:0.11,PE:53.2288,TURNOVERRATE:0.0154,ADJUSTCLOSINGPRICE:16.142,PB:2.3261},{AMPLITUDE:2.7211,PREVCLOSINGPRICE:4.41,TURNOVERDEALS:0,HIGHESTPRICE:4.53,TURNOVERVOL:3872525,TRADINGDAY:1345478400000,TOTALSHARE:2200000000,SECUCODE:"600008",EPS:0.0714,LOWESTPRICE:4.41,OPENINGPRICE:4.42,SECUABBR:"首创股份",ALISTEDSHARE:2200000000,ID:3131442,WCOSTAVG:5.2878,NETCASHFLOWOPERPS:0.055,SECUNAME:"北京首创股份有限公司",CLOSINGPRICE:4.49,DAYCHANGERATE:1.8141,TURNOVERVAL:17341208,BVPS:2.3832,DAYCHANGE:0.08,PE:18.8918,TURNOVERRATE:0.176,ADJUSTCLOSINGPRICE:15.1655,PB:1.8324},{AMPLITUDE:0.7389,PREVCLOSINGPRICE:12.18,TURNOVERDEALS:0,HIGHESTPRICE:12.22,TURNOVERVOL:1332194,TRADINGDAY:1345478400000,TOTALSHARE:1926958448,SECUCODE:"600009",EPS:0.1909,LOWESTPRICE:12.13,OPENINGPRICE:12.19,SECUABBR:"上海机场",ALISTEDSHARE:1093476397,ID:3131171,WCOSTAVG:12.8369,NETCASHFLOWOPERPS:-0.04,SECUNAME:"上海国际机场股份有限公司",CLOSINGPRICE:12.14,DAYCHANGERATE:-0.3284,TURNOVERVAL:16207539,BVPS:8.16,DAYCHANGE:-0.04,PE:15.5997,TURNOVERRATE:0.1218,ADJUSTCLOSINGPRICE:33.1878,PB:1.523},{AMPLITUDE:3.9604,PREVCLOSINGPRICE:6.06,TURNOVERDEALS:0,HIGHESTPRICE:6.11,TURNOVERVOL:95948038,TRADINGDAY:1345478400000,TOTALSHARE:6423643659,SECUCODE:"600010",EPS:0.0017,LOWESTPRICE:5.87,OPENINGPRICE:6.06,SECUABBR:"包钢股份",ALISTEDSHARE:6423643659,ID:3133528,WCOSTAVG:5.6692,NETCASHFLOWOPERPS:-0.09,SECUNAME:"内蒙古包钢钢联股份有限公司",CLOSINGPRICE:5.99,DAYCHANGERATE:-1.1551,TURNOVERVAL:572896242,BVPS:2.01,DAYCHANGE:-0.07,PE:77.53,TURNOVERRATE:1.4937,ADJUSTCLOSINGPRICE:17.6883,PB:2.9846},{AMPLITUDE:2.0864,PREVCLOSINGPRICE:6.71,TURNOVERDEALS:0,HIGHESTPRICE:6.8,TURNOVERVOL:8203502,TRADINGDAY:1345478400000,TOTALSHARE:14055383440,SECUCODE:"600011",EPS:0.1571,LOWESTPRICE:6.66,OPENINGPRICE:6.78,SECUABBR:"华能国际",ALISTEDSHARE:10000000000,ID:3132159,WCOSTAVG:5.7905,NETCASHFLOWOPERPS:0.91,SECUNAME:"华能国际电力股份有限公司",CLOSINGPRICE:6.68,DAYCHANGERATE:-0.4471,TURNOVERVAL:55167434,BVPS:3.66,DAYCHANGE:-0.03,PE:74.0314,TURNOVERRATE:0.082,ADJUSTCLOSINGPRICE:23.7094,PB:1.875},{AMPLITUDE:0.7712,PREVCLOSINGPRICE:3.89,TURNOVERDEALS:0,HIGHESTPRICE:3.91,TURNOVERVOL:418515,TRADINGDAY:1345478400000,TOTALSHARE:1658610000,SECUCODE:"600012",EPS:0.1278,LOWESTPRICE:3.88,OPENINGPRICE:3.89,SECUABBR:"皖通高速",ALISTEDSHARE:1165600000,ID:3133590,WCOSTAVG:4.4675,NETCASHFLOWOPERPS:0.25,SECUNAME:"安徽皖通高速公路股份有限公司",CLOSINGPRICE:3.9,DAYCHANGERATE:0.2571,TURNOVERVAL:1632075,BVPS:3.8226,DAYCHANGE:0.01,PE:7.5503,TURNOVERRATE:0.0359,ADJUSTCLOSINGPRICE:6.945,PB:1.0322},{AMPLITUDE:0.8037,PREVCLOSINGPRICE:8.71,TURNOVERDEALS:0,HIGHESTPRICE:8.75,TURNOVERVOL:14473038,TRADINGDAY:1345478400000,TOTALSHARE:6849725776,SECUCODE:"600015",EPS:0.8869,LOWESTPRICE:8.68,OPENINGPRICE:8.71,SECUABBR:"华夏银行",ALISTEDSHARE:4990528316,ID:3133403,WCOSTAVG:10.581,NETCASHFLOWOPERPS:2,SECUNAME:"华夏银行股份有限公司",CLOSINGPRICE:8.7,DAYCHANGERATE:-0.1148,TURNOVERVAL:126109959,BVPS:10.01,DAYCHANGE:-0.01,PE:6.4621,TURNOVERRATE:0.29,ADJUSTCLOSINGPRICE:16.1875,PB:0.9326},{AMPLITUDE:1.0135,PREVCLOSINGPRICE:5.92,TURNOVERDEALS:0,HIGHESTPRICE:5.94,TURNOVERVOL:47828421,TRADINGDAY:1345478400000,TOTALSHARE:28365585227,SECUCODE:"600016",EPS:0.3433,LOWESTPRICE:5.88,OPENINGPRICE:5.91,SECUABBR:"民生银行",ALISTEDSHARE:22587602387,ID:3132062,WCOSTAVG:6.1797,NETCASHFLOWOPERPS:-1.61,SECUNAME:"中国民生银行股份有限公司",CLOSINGPRICE:5.91,DAYCHANGERATE:-0.1689,TURNOVERVAL:282428002,BVPS:5.2,DAYCHANGE:-0.01,PE:6.0043,TURNOVERRATE:0.2117,ADJUSTCLOSINGPRICE:83.8993,PB:1.2936},{AMPLITUDE:1.8657,PREVCLOSINGPRICE:2.68,TURNOVERDEALS:0,HIGHESTPRICE:2.72,TURNOVERVOL:2086859,TRADINGDAY:1345478400000,TOTALSHARE:3075653888,SECUCODE:"600017",EPS:0.1249,LOWESTPRICE:2.67,OPENINGPRICE:2.69,SECUABBR:"日照港",ALISTEDSHARE:2630631660,ID:3133407,WCOSTAVG:3.0421,NETCASHFLOWOPERPS:0.122,SECUNAME:"日照港股份有限公司",CLOSINGPRICE:2.71,DAYCHANGERATE:1.1194,TURNOVERVAL:5634455,BVPS:2.674,DAYCHANGE:0.03,PE:17.342,TURNOVERRATE:0.0793,ADJUSTCLOSINGPRICE:8.5585,PB:1.2871}];
    //保留两位小数
    var fixed2 = function(val){
        return val.toFixed(2);
    }
    var cols = [
        {title:'行情', name:'', width: 30, align: 'center', renderer: function(val,item,items,rowIndex){
            return '<div class="btnPrice"></div>';
        }},
        { title:'股票代码', name:'SECUCODE' ,width:100, align:'center' },
        { title:'股票名称', name:'SECUABBR' ,width:100, align:'center'},
        { title:'今收盘', name:'CLOSINGPRICE' ,width:60, align:'right', renderer: fixed2},
        { title:'涨跌幅', name:'DAYCHANGERATE' ,width:60, align:'right',renderer: function(val){
            if(val > 0){
                return '<span style="color: #b00">' + val.toFixed(2) +'%' + '</span>';
            }else if(val < 0){
                return '<span style="color: #0b0">' + val.toFixed(2) +'%' + '</span>';
            }
            return val.toFixed(2)+'%';
        }},
        { title:'涨跌额', name:'DAYCHANGE' ,width:60, align:'right', renderer: function(val){
            if(val > 0){
                return '<span style="color: #b00">' + val.toFixed(2) + '</span>';
            }else if(val < 0){
                return '<span style="color: #0b0">' + val.toFixed(2) + '</span>';
            }
            return val.toFixed(2);
        }},
        { title:'振幅', name:'AMPLITUDE' ,width:60, align:'right', renderer: function(val){
            return val.toFixed(2)+'%';
        }},
        { title:'成交量(手)', name:'TURNOVERVOL' ,width:100, align:'right', renderer: function(val){
            return (val / 100).toFixed(2);
        }},
        { title:'成交额(万)', name:'TURNOVERVAL' ,width:100, align:'right', renderer: function(val){
            return (val / 10000).toFixed(2);
        }},
        { title:'昨收盘', name:'PREVCLOSINGPRICE' ,width:60, align:'right', renderer: fixed2},
        { title:'今开盘', name:'OPENINGPRICE',width:60, align:'right', renderer: fixed2},
        { title:'最高价', name:'HIGHESTPRICE' ,width:60, align:'right', renderer: fixed2},
        { title:'最低价', name:'LOWESTPRICE' ,width:60, align:'right', renderer: fixed2}
    ];
    //本地示例
    $('#table1').mmGrid({
        cols: cols,
        items: items
    });
    //Ajax示例
    $('#table2').mmGrid({
        cols: cols,
        url: 'data/stockQuote.json',
        method: 'get'
    });



    //排序
    var cols3 = [
        {title:'行情', name:'', width: 30, align: 'center', renderer: function(val,item,items,rowIndex){
            return '<div class="btnPrice"></div>';
        }},
        { title:'股票代码', name:'SECUCODE' ,width:100, sortable: true, align:'center' },
        { title:'股票名称', name:'SECUABBR' ,width:100, sortable: true, align:'center'},
        { title:'今收盘', name:'CLOSINGPRICE' ,width:60, align:'right', sortable: true, type: 'number', renderer: fixed2},
        { title:'涨跌幅', name:'DAYCHANGERATE' ,width:60, align:'right', sortable: true, type: 'number',renderer: function(val){
            if(val > 0){
                return '<span style="color: #b00">' + val.toFixed(2) +'%' + '</span>';
            }else if(val < 0){
                return '<span style="color: #0b0">' + val.toFixed(2) +'%' + '</span>';
            }
            return val.toFixed(2)+'%';
        }},
        { title:'涨跌额', name:'DAYCHANGE' ,width:60, align:'right', sortable: true, type: 'number', renderer: function(val){
            if(val > 0){
                return '<span style="color: #b00">' + val.toFixed(2) + '</span>';
            }else if(val < 0){
                return '<span style="color: #0b0">' + val.toFixed(2) + '</span>';
            }
            return val.toFixed(2);
        }},
        { title:'振幅', name:'AMPLITUDE' ,width:60, align:'right', sortable: true, type: 'number', renderer: function(val){
            return val.toFixed(2)+'%';
        }},
        { title:'成交量(手)', name:'TURNOVERVOL' ,width:100, align:'right', sortable: true, type: 'number', renderer: function(val){
            return (val / 100).toFixed(2);
        }},
        { title:'成交额(万)', name:'TURNOVERVAL' ,width:100, align:'right', sortable: true, type: 'number', renderer: function(val){
            return (val / 10000).toFixed(2);
        }},
        { title:'昨收盘', name:'PREVCLOSINGPRICE' ,width:60, align:'right', sortable: true, type: 'number', renderer: fixed2},
        { title:'今开盘', name:'OPENINGPRICE',width:60, align:'right', sortable: true, type: 'number', renderer: fixed2},
        { title:'最高价', name:'HIGHESTPRICE' ,width:60, align:'right', sortable: true, type: 'number', renderer: fixed2},
        { title:'最低价', name:'LOWESTPRICE' ,width:60, align:'right', sortable: true, type: 'number', renderer: fixed2}
    ];
    //客户端排序示例
    $('#table3').mmGrid({
        cols: cols3,
        items: items,
        sortName: 'DAYCHANGERATE',
        sortStatus: 'desc'
    });
    //服务器端排序示例
    $('#table4').mmGrid({
        cols: cols3,
        url: 'data/stockQuote.json',
        method: 'get',
        remoteSort:true
    });

    //锁定列宽
    var cols5 = [
        {title:'行情', name:'', width: 30, align: 'center',lockWidth:true, renderer: function(val,item,items,rowIndex){
            return '<div class="btnPrice"></div>';
        }},
        { title:'股票代码', name:'SECUCODE' ,width:80,lockWidth:true, align:'center' },
        { title:'股票名称', name:'SECUABBR' ,width:80,lockWidth:true, align:'center'},
        { title:'今收盘', name:'CLOSINGPRICE' ,width:60,lockWidth:true, align:'right', renderer: fixed2},
        { title:'涨跌幅', name:'DAYCHANGERATE' ,width:60,lockWidth:true, align:'right',renderer: function(val){
            if(val > 0){
                return '<span style="color: #b00">' + val.toFixed(2) +'%' + '</span>';
            }else if(val < 0){
                return '<span style="color: #0b0">' + val.toFixed(2) +'%' + '</span>';
            }
            return val.toFixed(2)+'%';
        }}
    ];
    $('#table5').mmGrid({
        height: 200,
        cols: cols5,
        items: items
    });
    //隐藏列
    var cols6 = [
        {title:'行情', name:'',width: 30, align: 'center', renderer: function(val,item,items,rowIndex){
            return '<div class="btnPrice"></div>';
        }},
        { title:'股票代码', name:'SECUCODE' ,width:80, align:'center', hidden: true },
        { title:'股票名称', name:'SECUABBR' ,width:80, align:'center'},
        { title:'今收盘', name:'CLOSINGPRICE' ,width:60, align:'right', renderer: fixed2},
        { title:'涨跌幅', name:'DAYCHANGERATE' ,width:60, align:'right',renderer: function(val){
            if(val > 0){
                return '<span style="color: #b00">' + val.toFixed(2) +'%' + '</span>';
            }else if(val < 0){
                return '<span style="color: #0b0">' + val.toFixed(2) +'%' + '</span>';
            }
            return val.toFixed(2)+'%';
        }}
    ];
    $('#table6').mmGrid({
        height: 200,
        cols: cols6,
        items: items
    });

    //隐藏列
    var cols7 = [
        {title:'行情', name:'',width: 30, align: 'center',lockDisplay: true, renderer: function(val,item,items,rowIndex){
            return '<div class="btnPrice"></div>';
        }},
        { title:'股票代码', name:'SECUCODE' ,width:80, align:'center' },
        { title:'股票名称', name:'SECUABBR' ,width:80, lockDisplay: true,align:'center'},
        { title:'今收盘', name:'CLOSINGPRICE' ,width:60, align:'right',lockDisplay: true, renderer: fixed2},
        { title:'涨跌幅', name:'DAYCHANGERATE',width:60 , align:'right',renderer: function(val){
            if(val > 0){
                return '<span style="color: #b00">' + val.toFixed(2) +'%' + '</span>';
            }else if(val < 0){
                return '<span style="color: #0b0">' + val.toFixed(2) +'%' + '</span>';
            }
            return val.toFixed(2)+'%';
        }}
    ];
    $('#table7').mmGrid({
        height: 200,
        cols: cols7,
        items: items
    });


    var cols8 = [
        {title:'行情', name:'', width: 30, align: 'center', renderer: function(val,item,items,rowIndex){
            return '<div class="btnPrice"></div>';
        }},
        { title:'股票', name:'SECUCODE' ,width:80, align:'center', renderer: function(val, item){
            return  item.SECUABBR + '(' + item.SECUCODE + ')';
        } },
        { title:'今收盘', name:'CLOSINGPRICE' ,width:60, align:'right', renderer: fixed2},
        { title:'涨跌幅', name:'DAYCHANGERATE' ,width:60, align:'right',renderer: function(val){
            if(val > 0){
                return '<span style="color: #b00">' + val.toFixed(2) +'%' + '</span>';
            }else if(val < 0){
                return '<span style="color: #0b0">' + val.toFixed(2) +'%' + '</span>';
            }
            return val.toFixed(2)+'%';
        }},
        { title:'涨跌额', name:'DAYCHANGE' ,width:60, align:'right', renderer: function(val){
            if(val > 0){
                return '<span style="color: #b00">' + val.toFixed(2) + '</span>';
            }else if(val < 0){
                return '<span style="color: #0b0">' + val.toFixed(2) + '</span>';
            }
            return val.toFixed(2);
        }},
        { title:'振幅', name:'AMPLITUDE' ,width:60, align:'right', renderer: function(val){
            return val.toFixed(2)+'%';
        }},
        { title:'成交量(手)', name:'TURNOVERVOL' ,width:100, align:'right', renderer: function(val){
            return (val / 100).toFixed(2);
        }},
        { title:'成交额(万)', name:'TURNOVERVAL' ,width:100, align:'right', renderer: function(val){
            return (val / 10000).toFixed(2);
        }},
        { title:'昨收盘', name:'PREVCLOSINGPRICE' ,width:60, align:'right', renderer: fixed2},
        { title:'今开盘', name:'OPENINGPRICE',width:60, align:'right', renderer: fixed2},
        { title:'最高价', name:'HIGHESTPRICE' ,width:60, align:'right', renderer: fixed2},
        { title:'最低价', name:'LOWESTPRICE' ,width:60, align:'right', renderer: fixed2}
    ];
    $('#table8').mmGrid({
        cols: cols8,
        items: items,
        nowrap: true
    });
    $('#table9').mmGrid({
        cols: cols8,
        items: items
    });

    //fitColWidth
    var cols10 = [
        {title:'行情', name:'', width: 30, align: 'center',lockWidth:true, renderer: function(val,item,items,rowIndex){
            return '<div class="btnPrice"></div>';
        }},
        { title:'股票代码', name:'SECUCODE' , width: 80, align:'center' },
        { title:'股票名称', name:'SECUABBR' , width: 80, align:'center'},
        { title:'今收盘', name:'CLOSINGPRICE' , width: 60, align:'right', renderer: fixed2},
        { title:'涨跌幅', name:'DAYCHANGERATE' , width: 60, align:'right',renderer: function(val){
            if(val > 0){
                return '<span style="color: #b00">' + val.toFixed(2) +'%' + '</span>';
            }else if(val < 0){
                return '<span style="color: #0b0">' + val.toFixed(2) +'%' + '</span>';
            }
            return val.toFixed(2)+'%';
        }}
    ];
    $('#table10').mmGrid({
        cols: cols10,
        items: items,
        fitColWidth: true
    });
    $('#table11').mmGrid({
        cols: cols10,
        items: items
    });



    //多选
    $('#table14').mmGrid({
        multiSelect: true,
        cols: cols,
        items: items,
        onSelected: function(item, rowIndex, colIndex){
            if(colIndex === 0){
                alert(JSON.stringify(item));
                return false;//返回false取消执行选中或取消选中的操作
            }
        }
    });
    $('#table15').mmGrid({
        cols: cols,
        items: items,
        onSelected: function(item, rowIndex, colIndex){
            if(colIndex === 0){
                alert(JSON.stringify(item));
                return false;//返回false取消执行选中或取消选中的操作
            }
        }
    });

    //checkbox列
    $('#table16').mmGrid({
        multiSelect: true,
        checkCol: true,
        cols: cols,
        items: items,
        onSelected: function(item, rowIndex, colIndex){
            if(colIndex === 1){
                alert(JSON.stringify(item));
                return false;//返回false取消执行选中或取消选中的操作
            }
        }
    });
    $('#table17').mmGrid({
        checkCol: true,
        cols: cols,
        items: items,
        onSelected: function(item, rowIndex, colIndex){
            if(colIndex === 1){
                alert(JSON.stringify(item));
                return false;//返回false取消执行选中或取消选中的操作
            }
        }
    });

    //分页
    $('#table18').mmGrid({
        cols: cols,
        url: 'data/stockQuotePage.json',
        method: 'get',
        root: 'items',
        paginator : $('#paginator18').mmPaginator()
    });

});
</script>
</body>
</html>